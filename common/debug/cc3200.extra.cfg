interface ftdi
ftdi_vid_pid 0x0451 0xc32a
transport select swd

#set _ENDIAN little
ftdi_layout_init 0x00a8 0x00eb
ftdi_layout_signal nSRST -noe 0x0020
ftdi_layout_signal SWD_EN -ndata 0x0080
ftdi_layout_signal SWDIO_OE -data 0x0008

source [find target/cc32xx.cfg]
####

$_CHIPNAME.cpu configure -work-area-phys 0x20000000 -work-area-size 0x30000 -work-area-backup 0 -coreid 0
source [find mem_helper.tcl]

$_TARGETNAME configure -event gdb-attach {
# 	cc3200_dbginit $_TARGETNAME
#	cortex_m dbginit
	halt
}

$_TARGETNAME configure -event "reset-start" { adapter_khz 1000 }
$_TARGETNAME configure -event "reset-assert" {
   global _CHIPNAME
   # assert warm system reset through ICEPick
   icepick_c_wreset $_CHIPNAME.jrc
}

 
# Run this to enable invasive debugging.  This is run automatically in the
# reset sequence.
proc cc3200_dbginit {target} {
   cortex_m dbginit
}